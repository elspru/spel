<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
<link rel="stylesheet" href=""/>
</head>
<body>
<a href="javascript: 
'use strict';
/*globals*/
var siteBase=('http://mwak.tk/spel/src/web/');

/*functions*/
function themeSet(mode){
var cssElem = document.querySelector('link[rel=stylesheet]');
if (mode === 'day') cssElem.href = siteBase+'spel-day.css';
else cssElem.href = siteBase+'spel-night.css';}

function stringToGlyphs(/*string*/string){
return string.split('');};

function span(classId,glyph){
return '<span class='+classId+'>'+glyph+'</span>';
}

function htmlSynGlyphsTransform(string){
var glyphs=stringToGlyphs(string);
var result = new String();
var i, glyph, inTag = false;
for (i=0;i<glyphs.length;i++){
glyph = glyphs[i];
if (glyph === '.') glyph = span('gs',glyph);
else if (glyph === '>' || glyph === ';') inTag = false;
else if (glyph === '<' || glyph === '&') inTag = true;
else if (inTag) true;
else glyph = span(glyph+'y',glyph);
result+=glyph;}
return result;}

function HTMLNodeIterator(){ 
this.iterate = function iterate(task,node){
var x; for(x=0;x<node.childNodes.length;x++){
var childNode = node.childNodes[x];
console.log(childNode.tagName);
if (childNode.tagName !== 'SPAN'){
task(childNode);
console.log(childNode.childNodes);
/*if(childNode.childNodes.length > 0 ){
this.iterate(task,childNode);}*/}}}}

function elemGlyphsTransform(elem){
var content = elem.innerHTML;
if (content) elem.innerHTML =  
htmlSynGlyphsTransform(content);}

/*main*/
function main(){
themeSet('night');
var bodyElement = document.getElementsByTagName('body')[0];
var htmlNodeIterator = new HTMLNodeIterator();
htmlNodeIterator.iterate(elemGlyphsTransform,bodyElement);
}

main();
">synesthesia bookmarklet</a>
<div>
<pre>
hello 
how are you?
Hello World I say!
The quick red fox jumps over the lazy brown dog.
THE QUICK RED FOX JUMPS OVER THE LAZY BROWN DOG.
abcdefghijklmnopqrstuvwxyz.
ABCDEFGHIJKLMNOPQRSTUVWXYZ.
numbers 	0123456789
hex numbers	0123456789ABCDEF
symbols 	.,?;:&$~=+-/*%#@\|"'()<>{}[]_`

Maximize distinctiveness between similar looking 
and similar sounding glyphs by comparing those that are:

dyslexic glyphs	pqgbd ce tf EF sz vwu ij tl1 hnr O0
same manner	ptkq bdg fsch vzjx mwnq ywlr aeiou
same place 	epfvbw sztcd ijy uwkxq oh
manner & place	pb td kg fv sz cj 
often together	se ys ie ce qu pl gl cl th sh ch ma wh re fx
affricates	pf bv ts dz sh ch tc dj kx gx kh gh ps bz sch 
i o . a r w s y e l d k g t h u b x z p v f q m j n c
</pre>
</div>
<script src="./synesthesia.js"></script>
</body>
</html>
